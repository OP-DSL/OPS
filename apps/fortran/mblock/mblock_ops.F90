!
! auto-generated by ops_fortran.py
!


















program MBLOCK
  use OPS_Fortran_Declarations
  use OPS_Fortran_RT_Support
  use MBLOCK_POPULATE_KERNEL_MODULE
  use OPS_CONSTANTS

  use, intrinsic :: ISO_C_BINDING

  implicit none

  type(ops_block) :: grid0, grid1

  integer S2D_00_array(2) /0,0/
  type(ops_stencil) :: S2D_00

  type(ops_dat) :: data0, data1

  integer d_p(2) /2,2/
  integer d_m(2) /-2,-2/

  integer base(2) /1,1/

  integer size(2) /20,20/


  real(kind=c_double), dimension(:), allocatable :: temp


  type(ops_halo_group) :: halos0, halos1, halos2, halos3, halos4




  integer iter_range(4)



  call ops_init(2)


  call ops_decl_block(2, grid0, "grid0")
  call ops_decl_block(2, grid1, "grid1")

  call ops_decl_stencil( 2, 1, S2D_00_array, S2D_00, "00")

  call ops_decl_dat(grid0, 1, size, base, d_m, d_p, temp, data0, "double", "data0")
  call ops_decl_dat(grid1, 1, size, base, d_m, d_p, temp, data0, "double", "data1")

  call ops_partition("1D_BLOCK_DECOMPOSE")


  iter_range(1) =  1
  iter_range(2) =  20
  iter_range(3) =  1
  iter_range(4) =  20
  call mblock_populate_kernel_host("mblock_populate_kernel", grid0, 2, iter_range, &
                    & ops_arg_dat(data0, 1, S2D_00, "real(8)", OPS_WRITE), &
                    & ops_arg_idx())

  call ops_exit( )

end program MBLOCK